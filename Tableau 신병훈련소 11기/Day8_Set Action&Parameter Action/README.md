# Day8 Set Action & Parameter Action

- 대시보드에서 액션을 생성해 전체 대비 비중을 살펴보거나, 시트에서 매개변수를 만들어 전체와 세부 사항을 살펴보는 등의 다이나믹한 데이터 탐색을 가능하게 함

## 8-1. 집합 동작(작업)
- 시도별 전국 대비 매출 비중, 제품중분류별 전체 대비 매출 비중 표현
<img src="./image/01. set action.png" width="600" height="350">

1. '시도' **집합** 생성
	- 시도 필드 우클릭 > 만들기 > 집합
2. **집합**을 대상 시트의 색상에 추가
	- 대상 시트: 전체 대비 매출 현황, 제품중분류별 매출
	- 집합은 IN/OUT 개념으로 작동
	- 정렬 수동으로 변경 후 out을 위로 올려줘야, 파란색(in)이 막대 차트 바깥이 아닌 안쪽에 표현됨 
3. 동작(작업) 생성
	- 대시보드 > 동작 > 동작 추가 > 집합 값 변경
	- 원본 시트 = 동작이 발생하는 시트 (클릭, 마우스오버 등을 할 시트)
		- 지역별 매출 현황 시트로 설정
	- 대상 집합
		- 데이터 소스: 주문+반품 추출
		- Set(집합): 시도 선택 집합
	- 선택 내용을 지울 경우의 결과: 집합 값 제거
		- 집합 값 유지 → 지도에서 서울을 선택했다가, 선택된 값을 취소했을 때 여전히 서울 값 유지
              	- 집합에 모든 값 추가 →  서울을 선택했다가, 선택된 값을 취소했을 때 시도 모든 값을 집합에 추가
              	- 집합에 모든 값 제거 → 서울을 선택했다가, 선택된 값을 취소했을 때 시도 모든 값을 집합에서 제거

## 8-2. 매개변수 변경을 이용한 드릴 다운
- 전체에서는 대분류 수준, 특정 대분류 막대 클릭했을 때는 중분류 수준으로
<img src="./image/02. parameter action.png" width="600" height="350">

- 매개변수 생성 (제품 대분류 매개 변수)
	- 대분류 필드 우클릭 > 만들기 > 매개변수
	- 자동 생성된 값 목록에 '전체' 추가 및 순서 맨위로

- 매개변수 적용할 계산식 생성
	1. 제품중분류_드릴다운
		- ```Tableau
			IF [제품 대분류] = [제품 대분류 매개 변수] THEN [제품 중분류]
			ELSE [제품 대분류]
			END
		  ```
		- 색상 및 레이블에 할당
	2. 제품 중분류 레이블 (비중)
		- ```Tableau
			IF [제품 대분류] = [제품 대분류 매개 변수] 
			THEN [매출]
			END
		  ```
		- 레이블로 할당 후, 퀵 테이블 계산을 이용해 구성 비율로 변경
			- 범위: 테이블 (옆으로)
- 동작 생성
	- 워크시트 > 동작(작업) > 동작 추가 > 매개 변수 변경
	- 동작 실행 조건: 마우스 오버
	- 대상 매개 변수 = 값을 변경할 매개변수: 제품 대분류 매개 변수
	- 원본 필드 = 매개 변수에 적용할 필드: 제품 대분류
