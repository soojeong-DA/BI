# Day7 Various Charts

## 7-1. 도넛 차트 - 연도별 고객세그먼트별 매출 비중
- 각 데이터의 비중이 얼마나 되는지 표현하기 위한 차트 중 하나
- 파이차트보다 더 많은 정보를 담을 수 있음 (레이블 활용이 핵심)
<img src="./image/01. 도넛 차트.png" width="600" height="350">

- 도넛차트 생성 순서
	1. '파이차드'를 만든다.
	2. 파이차트보다 작은 크기의 '원'을 만들어 파이 차트와 겹쳐서 도넛 모양이 되도록 한다. (이중축 활용)
- 임의 축 생성
	- 파이차트는 기본적으로 축이 필요 없음 (각도의 크기로 나타내기 때문에)
	- 도넛차트는 파이차트와 원을 합쳐줘야하기 때문에 임의의 축 개념 필요
	- 일반적으로 `MIN(0)`으로 임의 기준 축 생성
		- 행 선반 더블클릭하여, `MIN(0)` 입력
		- 옆에 `MIN(0)` 하나 더 생성 <- '원'이 될!
			- 마크 타임 원으로 변경 및 레이블 설정
- 이중축 및 축 동기화 후, 원 크기 조정하면 도넛 차트 완료!

## 7-2. 워터폴 차트 - 월별 수익
- 각 제품/연도/단계 같은 카테고리에 따라 누적 값(간트 차트 위치)과 기여도(차트 크기)를 동시에 표현할 수 있음 
<img src="./image/02. 워터폴 차트.png" width="600" height="350">

- 수익을 행 선반에 놓고, '누계' 값으로 변경 -> 마크 '간트 차트'로 변경
- 마크의 크기를 `-[수익]`으로 표현
- 색상 표현은 원래 '수익' 값으로 표현

- 총계는 분석 탭에서 추가

## 7-3. 범프 차트
- 시간에 따른 '순위' 변동을 나타낼 때 효과적인 차트
<img src="./image/03. 범프차트.png" width="600" height="350">

- 범프차트 생성 순서
	1. 순위를 라인차트로 표현
	2. 순위를 원 마크 타입으로 표현 -> 이중 축을 통해 하나로 통합
- 퀵테이블 계산에서 '순위' 선택 후, **다음을 사용하여 계산**에서 중분류 선택
	- 순위는 상대적인 것이기 때문에 계산 기준 지정이 중요!
	- 축 반전시켜서 오름차순으로 정렬 (순위니까)
- 매출 필드를 복제하여 원 타입 시각화 후, 이중축과 축 동기화로 통합

## 7-4. 퍼널 차트
- 사용자의 서비스 이용 단계별 이탈율 또는 전환율을 파악할 수 있음
<img src="./image/04. 퍼널차트.png" width="600" height="350">

- 측정값과 측정값 이름 활용
- 마크 형태 영역으로 변경
- 퍼널 반쪽 완성되면 측정값 복제 후, 왼쪽 측정값의 축 반전

## 7-5. 간트 차트
- 매장별 오픈 ~ 마감 시간
<img src="./image/05. 간트차트.png" width="600" height="350">

- 영업시작시간(분) 활용
	- ```Tableau
		# tableau는 날짜를 축에 나타낼 때 축 눈금 하나의 단위가 1일임
		# 따라서 분 단위로 계산한 영업시간을 일단위로 변환 -> 1440로 나눠주기
		DATEDIFF('minute', [영업시작시간], [영업종료시간]) / 1440
	  ```
	- 막대 크기에 표현

